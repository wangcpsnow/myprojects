<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
	<meta name="google" content="notranslate">
	<title>大白 - 商户</title>
	<link rel='stylesheet' id='global-css'  href='/css/style.css?ver=4.4.2' type='text/css' media='all' />
	<script type='text/javascript' src='/script/libs.min.js?ver=4.4.2'></script>
	<script type='text/javascript' src='/script/functions.js?ver=4.4.2'></script>
</head>
<body class="white">
	<div id="wrap" class="wrap">
		<div class="container container-login">
			<header class="heading heading-login">
				<h1><img class="大白" src="images/logo.png"></h1>
				<p>为门店拉粉而生</p>
			</header>
			<fieldset id="js-form" class="form">
				<form class="js-validate" data-check-phone="true" action="admin-index.html" method="post">
					<div class="ui-cells form-mobile">
						<div class="ui-cell">
							<div class="ui-cell_hd">+86</div>
							<div class="ui-cell_bd">
								<input id="js-phone" name="phone" type="number" placeholder="手机号" pattern="[0-9]*" data-rule-required="true" data-rule-isMobile="true" class="ui-input" data-msg-required="请填写手机号">
							</div>
						</div>
					</div>
					<div class="ui-cells form-code">
						<div class="ui-cell">
							<div class="ui-cell_bd">
								<input type="text" class="ui-input" name="code" placeholder="验证码" data-rule-required="true" data-msg-required="请填写手机验证码">
							</div>
							<div class="ui-cell_hd">
								<button id="js-get-code" class="button" type="button" data-rule-required="true">发送验证码</button>
								<span class="hide" id="js-countdown"><time id="js-second">60</time>秒后重发</span>
							</div>
						</div>
					</div>


					<button type="submit" class="js-check-button ui-btn ui-btn_big ui-btn_default">登录</button>
				</form>
			</fieldset>
		</div>
	</div>
	
	<div id="js-tooltips" class="ui-toptips ui-warn"></div>
	

	<script type="text/javascript">
		(function ($) {
			'use strict';
			
			var has_run = false;
			var second = 60;
			var timer;

			function countdown() {
				if (second === 0) {
					has_run = false;
					second = 60;
					document.querySelector('#js-form').className = 'form';
					document.getElementById('js-second').innerHTML = second;
					clearInterval(timer);
				} else {
					second = second-1;
					document.getElementById('js-second').innerHTML = second;
				}
			}

			function fun() {
				document.querySelector('#js-get-code').addEventListener('click', function() {
					if (!has_run && $('.js-validate').hasClass('is_phone_ok')) {
						has_run = true;
						document.querySelector('#js-form').className = 'form has_countdown';

						timer = setInterval(countdown, 1000);
					}
				}, false);
			}

			document.addEventListener('DOMContentLoaded', fun);
		})(jQuery);
	</script>
</body>
</html>